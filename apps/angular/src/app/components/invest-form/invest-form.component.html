<form [formGroup]="investForm" (ngSubmit)="onSubmit()">
  <div class="md:flex md:gap-4">
    <div class="mb-4 md:w-1/2">
      <input-label id="oneOffInvestment">One-off investment (20-99.999.999€)</input-label>

      <!-- Direktiva formControlName slouží k propojení inputu s odpovídajícím FormControl v FormGroup -->
      <input
        id="oneOffInvestment"
        type="number"
        formControlName="oneOffInvestment"
        class="mt-1 block w-full rounded-md p-2 shadow-sm bg-slate-100 border border-gray-300"
      />

      @if (oneOffInvestmentControl.errors?.['required']) {
        <p class="text-red-500 text-xs italic mt-1">
          Please enter a valid amount of one-off investment (positive number).
        </p>
      }
      @if (oneOffInvestmentControl.errors?.['min']) {
        <p class="text-red-500 text-xs italic mt-1">
          Please enter a valid amount of one-off investment (minimum 20 €).
        </p>
      }
      @if (oneOffInvestmentControl.errors?.['max']) {
        <p class="text-red-500 text-xs italic mt-1">
          Please enter a valid amount of one-off investment (maximum 99.999.999 €).
        </p>
      }
    </div>

    <div class="mb-4 md:w-1/2">
      <input-label id="investmentLength">Investment length (3-60 years)</input-label>

      <div class="flex">
        <input
          id="investmentLength"
          type="range"
          formControlName="investmentLength"
          min="3"
          max="60"
          class="mt-1 block w-full rounded-md p-2 shadow-sm bg-slate-100 border border-gray-300"
        />

        <div
          class="w-24 py-2 rounded-lg bg-slate-100 border border-gray-200 self-center text-center"
        >
          {{ investmentLengthControl.value }} years
        </div>
      </div>

      @if (investmentLengthControl.errors?.['required']) {
        <p class="text-red-500 text-xs italic mt-1">
          Please enter a valid length investment (positive number).
        </p>
      }
    </div>
  </div>

  <div class="md:flex md:gap-4">
    <div class="mb-4 md:w-1/2">
      <input-label id="averageSavingsInterest">
        Average interest on a savings account (0-10 %)
      </input-label>

      <input
        id="averageSavingsInterest"
        type="number"
        formControlName="averageSavingsInterest"
        step="0.1"
        class="mt-1 block w-full rounded-md p-2 shadow-sm bg-slate-100 border border-gray-300"
      />

      @if (averageSavingsInterestControl.errors?.['required']) {
        <p class="text-red-500 text-xs italic mt-1">
          Please enter a valid average amount of interest on savings account (non-negative number).
        </p>
      }
      @if (averageSavingsInterestControl.errors?.['min']) {
        <p class="text-red-500 text-xs italic mt-1">
          Please enter a valid average amount of interest on savings account (minimum 0 %).
        </p>
      }
      @if (averageSavingsInterestControl.errors?.['max']) {
        <p class="text-red-500 text-xs italic mt-1">
          Please enter a valid average amount of interest on savings account (maximum 10 %).
        </p>
      }
    </div>

    <div class="mb-4 md:w-1/2">
      <input-label id="averageSP500Interest">
        Average S&P 500 yield (approximate value in %)
      </input-label>

      <input
        id="averageSP500Interest"
        type="number"
        formControlName="averageSP500Interest"
        class="mt-1 block w-full rounded-md p-2 shadow-sm bg-slate-100 border border-gray-300 cursor-not-allowed opacity-70"
        readOnly
      />

      @if (averageSP500InterestControl.errors?.['required']) {
        <p class="text-red-500 text-xs italic mt-1">
          Please enter a valid average amount of S&P 500 yield (non-negative number).
        </p>
      }
    </div>
  </div>

  <button
    type="submit"
    [disabled]="investForm.invalid"
    class="w-full px-4 py-2 mr-2 bg-blue-500 text-white rounded-md shadow-sm hover:bg-blue-700 disabled:opacity-50"
  >
    Calculate
  </button>
</form>
